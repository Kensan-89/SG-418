<context>
  <story>
    **Story 2.6: Today Dashboard**

    As a logged-in user,
    I want a "Today" dashboard view,
    So that I can focus on the tasks and events that are most immediately relevant.

    **Acceptance Criteria:**
    1. A "Today" view is available, possibly as the default landing page.
    2. It displays only the tasks, assignments, and events scheduled for the current day.
    3. The view is clean, focused, and helps the user prioritize their day.
  </story>

  <tech-spec>
    **Story 2.6: Today Dashboard View**

    *   **Frontend:**
        *   A new page `/pages/today.tsx` will be created.
        *   This page will display tasks and events that are due or occurring on the current day.
        *   It will fetch data from `/api/tasks` and `/api/calendar/events`, similar to the Agenda view, but with `startDate` and `endDate` parameters set to the current day.
    *   **Backend:**
        *   The existing `/api/tasks` and `/api/calendar/events` endpoints will be sufficient, as they already accept `startDate` and `endDate` query parameters.
  </tech-spec>

  <prisma-schema>
    ```prisma
    model User {
      id            String    @id @default(cuid())
      name          String?
      email         String?   @unique
      emailVerified DateTime?
      image         String?
      accounts      Account[]
      sessions      Session[]
      tasks         Task[]
      calendarEvents CalendarEvent[]
      canvasApiKey  String?
      googleCalendarAccessToken  String?
      googleCalendarRefreshToken String?
      selectedCalendarIds        Json?
      preferredStudyTimes Json?
    }

    model Task {
      id          String   @id @default(cuid())
      userId      String
      user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)
      type        String   // CANVAS_ASSIGNMENT or PERSONAL
      canvasAssignmentId String?
      title       String
      description String?
      dueDate     DateTime?
      courseName  String?
      canvasHtmlUrl String?
      isCompleted Boolean  @default(false)
      priority    String   @default("MEDIUM") // LOW, MEDIUM, HIGH
      estimatedTime Int?
      timeSpent   Int      @default(0)
      createdAt   DateTime @default(now())
      updatedAt   DateTime @updatedAt
    }

    model CalendarEvent {
      id            String   @id @default(cuid())
      userId        String
      user          User     @relation(fields: [userId], references: [id], onDelete: Cascade)
      googleEventId String   @unique
      calendarId    String
      title         String
      description   String?
      startTime     DateTime
      endTime       DateTime
      isAllDay      Boolean  @default(false)
      createdAt     DateTime @default(now())
      updatedAt   DateTime @updatedAt
    }
    ```
  </prisma-schema>

  <file-paths>
    *   API Routes: `pages/api/tasks/index.ts`, `pages/api/calendar/events.ts`
    *   Today Dashboard Page: `pages/today.tsx`
    *   Prisma Schema: `prisma/schema.prisma`
  </file-paths>

  <documentation>
    *   JavaScript Date object: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date
  </documentation>
</context>
