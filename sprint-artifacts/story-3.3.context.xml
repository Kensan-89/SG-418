<context>
  <story>
    **Story 3.3: Define Preferred Study Times**

    As a logged-in user,
    I want to define my preferred study times (e.g., "early mornings," "evenings"),
    So that the application can make more relevant suggestions for scheduling study sessions.

    **Acceptance Criteria:**
    1. A setting is available for users to specify their general availability and preferences for studying (e.g., days of the week, time ranges).
    2. This information is saved to the user's profile.
    3. The "Find Free Time" feature will use this information to rank its suggestions.
  </story>

  <tech-spec>
    **Story 3.3: Define Preferred Study Times**

    *   **Frontend:**
        *   Update the `/pages/settings.tsx` page to include a new section for "Preferred Study Times".
        *   This UI will allow users to define days of the week and time ranges (e.g., "Mon-Fri, 18:00-22:00").
        *   A "Save" button will trigger an API call to store these preferences.
    *   **Backend:**
        *   A new API endpoint `PUT /api/user/preferences` will be created to update the user's `preferredStudyTimes`.
        *   The `preferredStudyTimes` will be stored as JSON in the `User` model.
    *   **Database:**
        *   The `User` model in `prisma/schema.prisma` already has a `preferredStudyTimes Json?` field.
  </tech-spec>

  <prisma-schema>
    ```prisma
    model User {
      id            String    @id @default(cuid())
      name          String?
      email         String?   @unique
      emailVerified DateTime?
      image         String?
      accounts      Account[]
      sessions      Session[]
      tasks         Task[]
      calendarEvents CalendarEvent[]
      canvasApiKey  String?
      googleCalendarAccessToken  String?
      googleCalendarRefreshToken String?
      selectedCalendarIds        Json?
      preferredStudyTimes Json?
    }
    ```
  </prisma-schema>

  <file-paths>
    *   API Route: `pages/api/user/preferences.ts`
    *   Settings Page: `pages/settings.tsx`
    *   Prisma Schema: `prisma/schema.prisma`
  </file-paths>

  <documentation>
    *   React Forms: https://react.dev/learn/managing-state#forms
  </documentation>
</context>
